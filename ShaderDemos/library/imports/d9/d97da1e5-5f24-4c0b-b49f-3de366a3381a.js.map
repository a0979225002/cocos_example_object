{"version":3,"sources":["assets\\Script\\SearchLightFrag.ts"],"names":[],"mappings":";;;;;;AAAA;IAAA;IA2CA,CAAC;IA1CU,iCAAiB,GAAG,2TAY1B,CAAC;IACK,iCAAiB,GAAG,43BA4B1B,CAAC;IACN,sBAAC;CA3CD,AA2CC,IAAA;kBA3CoB,eAAe","file":"","sourceRoot":"/","sourcesContent":["export default class SearchLightFrag{\r\n    static search_light_vert = `\r\n    attribute vec4 a_position;\r\n    attribute vec2 a_texCoord;\r\n    attribute vec4 a_color;\r\n    varying vec2 v_texCoord;\r\n    varying vec4 v_fragmentColor;\r\n    void main()\r\n    {\r\n        gl_Position = CC_PMatrix * a_position;\r\n        v_fragmentColor = a_color;\r\n        v_texCoord = a_texCoord;\r\n    }\r\n    `;\r\n    static search_light_frag = `\r\n    #ifdef GL_ES\r\n    precision mediump float;\r\n    #endif\r\n    uniform vec2 resolution;\r\n    uniform vec2 mouse;\r\n    varying vec2 v_texCoord;\r\n\r\n    void mainImage( out vec4 fragColor, in vec2 fragCoord )\r\n    {\r\n        // y坐标翻转\r\n        vec2 imouse = vec2(mouse.x, resolution.y - mouse.y);\r\n        // 纹理坐标\r\n        vec2 uv = v_texCoord.xy ;\r\n        // 纹理采样\r\n        vec4 tex = texture2D(CC_Texture0, uv);\r\n        // 片元到鼠标点的差向量\r\n        vec2 d = uv*resolution.xy -imouse.xy ;\r\n        // 光照半径\r\n        vec2 s = 0.15 * resolution.xy;\r\n        // 点积取比例\r\n        float r = dot(d, d)/dot(s,s);\r\n        fragColor =  tex * (1.08 - r);   \r\n    }\r\n    void main()\r\n    {\r\n        mainImage(gl_FragColor, gl_FragCoord.xy);\r\n    }\r\n    `;\r\n}\r\n"]}