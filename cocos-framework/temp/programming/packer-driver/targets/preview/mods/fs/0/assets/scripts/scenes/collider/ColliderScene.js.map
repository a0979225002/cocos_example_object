{"version":3,"sources":["file:///D:/My_Game/%E5%88%A5%E4%BA%BA%E5%AF%AB%E7%9A%84%E5%8F%83%E8%80%83%E7%94%A8/cocos-framework/assets/scripts/scenes/collider/ColliderScene.ts"],"names":["instantiate","Prefab","resources","Sprite","SpriteRenderer","RenderScene","sampleScene","ColliderTrigger","ColliderScene","initialize","box1","createEntity","load","err","data","moonTex","getComponent","addComponent","es","Mover","spriteFrame","BoxCollider","isTrigger","setPosition","box2","Core","schedule","collisionResult","CollisionResult","move","Vector2","up"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,W,OAAAA,W;AAAaC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,M,OAAAA,M;;AAChCC,MAAAA,c,iBAAAA,c;;AACAC,MAAAA,W,iBAAAA,W;AAAaC,MAAAA,W,iBAAAA,W;;AACbC,MAAAA,e,iBAAAA,e;;;;;;;+BAGIC,a,WADZ;AAAA;AAAA,sCAAY,UAAZ,C;;;;;;;;;eAEUC,U,GAAP,sBAAoB;AAChB,cAAIC,IAAI,GAAG,KAAKC,YAAL,CAAkB,MAAlB,CAAX;AACAT,UAAAA,SAAS,CAACU,IAAV,CAAe,cAAf,EAA+BX,MAA/B,EAAuC,UAACY,GAAD,EAAMC,IAAN,EAAa;AAChD,gBAAIC,OAAO,GAAGf,WAAW,CAACc,IAAD,CAAX,CAAkBE,YAAlB,CAA+Bb,MAA/B,CAAd;;AACA,gBAAIY,OAAJ,EAAa;AACTL,cAAAA,IAAI,CAACO,YAAL,CAAkB;AAAA;AAAA,uDAAlB;AACAP,cAAAA,IAAI,CAACO,YAAL,CAAkB,IAAIC,EAAE,CAACC,KAAP,EAAlB;AACAT,cAAAA,IAAI,CAACO,YAAL,CAAkB;AAAA;AAAA,oDAAmBF,OAAnB,CAAlB;AACA,kBAAIA,OAAO,CAACK,WAAZ,EACIV,IAAI,CAACO,YAAL,CAAkB,IAAIC,EAAE,CAACG,WAAP,EAAlB,EAAwCC,SAAxC,GAAoD,IAApD;AACP;;AACDZ,YAAAA,IAAI,CAACa,WAAL,CAAiB,GAAjB,EAAsB,GAAtB;AACH,WAVD;AAYA,cAAIC,IAAI,GAAG,KAAKb,YAAL,CAAkB,MAAlB,CAAX;AACAT,UAAAA,SAAS,CAACU,IAAV,CAAe,cAAf,EAA+BX,MAA/B,EAAuC,UAACY,GAAD,EAAMC,IAAN,EAAa;AAChD,gBAAIC,OAAO,GAAGf,WAAW,CAACc,IAAD,CAAX,CAAkBE,YAAlB,CAA+Bb,MAA/B,CAAd;;AACA,gBAAIY,OAAJ,EAAa;AACTS,cAAAA,IAAI,CAACP,YAAL,CAAkB;AAAA;AAAA,uDAAlB;AACAO,cAAAA,IAAI,CAACP,YAAL,CAAkB;AAAA;AAAA,oDAAmBF,OAAnB,CAAlB;AACA,kBAAIA,OAAO,CAACK,WAAZ,EACII,IAAI,CAACP,YAAL,CAAkB,IAAIC,EAAE,CAACG,WAAP,EAAlB;AACP;;AACDG,YAAAA,IAAI,CAACD,WAAL,CAAiB,GAAjB,EAAsB,GAAtB;AACH,WATD;AAWAL,UAAAA,EAAE,CAACO,IAAH,CAAQC,QAAR,CAAiB,CAAjB,EAAoB,IAApB,EAA0B,IAA1B,EAAgC,YAAK;AAAA;;AACjC,gBAAMC,eAAe,GAAG,IAAIT,EAAE,CAACU,eAAP,EAAxB;AACA,kCAAAlB,IAAI,CAACM,YAAL,CAAkBE,EAAE,CAACC,KAArB,2EAA6BU,IAA7B,CAAkCX,EAAE,CAACY,OAAH,CAAWC,EAA7C,EAAiDJ,eAAjD;AACH,WAHD;AAIH,S","sourcesContent":["import { instantiate, Prefab, resources, Sprite } from \"cc\";\r\nimport { SpriteRenderer } from \"../../components/SpriteRenderer\";\r\nimport { RenderScene, sampleScene } from \"../RenderScene\";\r\nimport { ColliderTrigger } from \"./ColliderTrigger\";\r\n\r\n@sampleScene(\"collider\")\r\nexport class ColliderScene extends RenderScene {\r\n    public initialize() {\r\n        let box1 = this.createEntity(\"box1\");\r\n        resources.load('prefabs/moon', Prefab, (err, data)=>{\r\n            let moonTex = instantiate(data).getComponent(Sprite);\r\n            if (moonTex) {\r\n                box1.addComponent(new ColliderTrigger());\r\n                box1.addComponent(new es.Mover());\r\n                box1.addComponent(new SpriteRenderer(moonTex))\r\n                if (moonTex.spriteFrame) \r\n                    box1.addComponent(new es.BoxCollider()).isTrigger = true;\r\n            }\r\n            box1.setPosition(200, 100);\r\n        });\r\n\r\n        let box2 = this.createEntity(\"box2\");\r\n        resources.load('prefabs/moon', Prefab, (err, data)=>{\r\n            let moonTex = instantiate(data).getComponent(Sprite);\r\n            if (moonTex) {\r\n                box2.addComponent(new ColliderTrigger());\r\n                box2.addComponent(new SpriteRenderer(moonTex))\r\n                if (moonTex.spriteFrame) \r\n                    box2.addComponent(new es.BoxCollider());\r\n            }\r\n            box2.setPosition(100, 200);\r\n        });\r\n\r\n        es.Core.schedule(0, true, this, ()=> {\r\n            const collisionResult = new es.CollisionResult();\r\n            box1.getComponent(es.Mover)?.move(es.Vector2.up, collisionResult);\r\n        });\r\n    }\r\n}"]}