{"version":3,"sources":["assets\\script\\controllers\\mine\\MineMngNav.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import EventMng from \"../../manager/EventMng\";\r\nimport { MainEvent } from \"../../data/const/EventConst\";\r\nimport UIBase from \"../ui/UIBase\";\r\n\r\nconst { ccclass } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class MineMngNav extends UIBase {\r\n\r\n    navBtns: Btn[] = [];\r\n    preIndex: number = 0;\r\n    currentIndex: number = 0;\r\n\r\n    onUILoad(): void {\r\n        this.btnsCreate();\r\n    }\r\n\r\n    onShow(): void {\r\n        this.btnsBindOn();\r\n    }\r\n\r\n    onHide(): void {\r\n        this.btnBindOff();\r\n    }\r\n\r\n    btnsCreate(): void {\r\n        for (let i = 0; i < this.node.children.length; i++) {\r\n            let btn = this.node.children[i];\r\n            this.navBtns[i] = new Btn(btn, i);\r\n        }\r\n    }\r\n\r\n    btnsBindOn(): void {\r\n        this.navBtns.forEach((btn) => {\r\n            btn.eventBindOn();\r\n        });\r\n    }\r\n\r\n    btnBindOff(): void {\r\n        this.navBtns.forEach((btn) => {\r\n            btn.eventBindOff();\r\n        });\r\n    }\r\n\r\n    btnSwitch(id: number): void {\r\n        this.preIndex = this.currentIndex;\r\n        this.currentIndex = id;\r\n        this.navBtns[this.preIndex].updateState(false);\r\n        this.navBtns[this.currentIndex].updateState(true);\r\n    }\r\n\r\n}\r\n\r\nclass Btn {\r\n\r\n    node: cc.Node;\r\n    node_txt: cc.Node;\r\n    node_activeBg: cc.Node;\r\n    color_black: cc.Color = new cc.Color(0, 0, 0, 255);\r\n    color_white: cc.Color = new cc.Color(255, 255, 255, 255);\r\n\r\n    protected _id: number = 0;\r\n\r\n    constructor(node: cc.Node, id: number) {\r\n        this.node = node;\r\n        this._id = id;\r\n        this.node_activeBg = this.node.getChildByName(\"bg_active\");\r\n        this.node_txt = this.node.getChildByName(\"txt\");\r\n    }\r\n\r\n    click(): void {\r\n        EventMng.emit(MainEvent.MINE_MNG_PAGE_SWITCH, this.id);\r\n    }\r\n\r\n    eventBindOn(): void {\r\n        this.node.on(\"touchend\", this.click, this);\r\n    }\r\n\r\n    eventBindOff(): void {\r\n        this.node.off(\"touchend\", this.click, this);\r\n    }\r\n\r\n    updateState(state: boolean): void {\r\n        this.activeBgShow(state);\r\n        this.node_txt.color = state ? this.color_black : this.color_white;\r\n    }\r\n\r\n    activeBgShow(state: boolean): void {\r\n\r\n        this.node_activeBg.active = state;\r\n\r\n        if (state) {\r\n            this.node_activeBg.opacity = 0;\r\n            this.node_activeBg.stopAllActions();\r\n            this.node_activeBg.runAction(cc.fadeIn(.15));\r\n        }\r\n\r\n    }\r\n\r\n    set id(value: number) {\r\n        this._id = value;\r\n    }\r\n\r\n    get id(): number {\r\n        return this._id;\r\n    }\r\n\r\n}"]}