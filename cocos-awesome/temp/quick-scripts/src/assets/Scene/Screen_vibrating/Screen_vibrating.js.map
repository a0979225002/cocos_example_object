{"version":3,"sources":["assets\\Scene\\Screen_vibrating\\Screen_vibrating.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Screen_vibrating extends cc.Component {\r\n  @property(cc.Node)\r\n  bgNode: cc.Node = null;\r\n  @property(cc.Node)\r\n  hitFeedback: cc.Node = null;\r\n\r\n  onLoad() {\r\n    this.shakeEffect(this.bgNode, 1);\r\n  }\r\n\r\n  hit(evn: cc.Event.EventTouch) {\r\n    this.shakeEffect(evn.currentTarget, 0.6);\r\n\r\n    this.hitFeedback.setPosition(this.node.convertToNodeSpaceAR(evn.getLocation()));\r\n    this.hitFeedback.active = true;\r\n\r\n    let anim = this.hitFeedback.getComponent(cc.Animation);\r\n    anim.on('finished', () => {\r\n      this.hitFeedback.active = false;\r\n      anim.setCurrentTime(0);\r\n      anim.stop();\r\n    });\r\n    anim.play();\r\n  }\r\n\r\n  shakeEffect(node: cc.Node, duration) {\r\n    node.stopAllActions();\r\n    node.runAction(\r\n      cc\r\n        .sequence(\r\n          cc.moveTo(0.02, cc.v2(5, 7)),\r\n          cc.moveTo(0.02, cc.v2(-6, 7)),\r\n          cc.moveTo(0.02, cc.v2(-13, 3)),\r\n          cc.moveTo(0.02, cc.v2(3, -6)),\r\n          cc.moveTo(0.02, cc.v2(-5, 5)),\r\n          cc.moveTo(0.02, cc.v2(2, -8)),\r\n          cc.moveTo(0.02, cc.v2(-8, -10)),\r\n          cc.moveTo(0.02, cc.v2(3, 10)),\r\n          cc.moveTo(0.02, cc.v2(0, 0))\r\n        )\r\n        .repeatForever()\r\n    );\r\n\r\n    this.scheduleOnce(() => {\r\n      node.stopAllActions();\r\n      node.setPosition(0, 0);\r\n    }, duration);\r\n  }\r\n}\r\n"]}