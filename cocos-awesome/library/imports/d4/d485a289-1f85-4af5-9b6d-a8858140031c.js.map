{"version":3,"sources":["assets\\Scene\\Water_spread\\Water_spread.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA0C,gCAAY;IAAtD;QAAA,qEAuBC;QArBC,QAAE,GAAY,IAAI,CAAC;QACnB,cAAQ,GAAgB,IAAI,CAAC;QAO7B,gBAAU,GAAW,GAAG,CAAC;;IAa3B,CAAC;IAlBC,6BAAM,GAAN;QACE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;QAC/D,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;IACtE,CAAC;IAGD,sCAAe,GAAf,UAAgB,GAAwB;QACtC,IAAI,GAAG,GAAG,GAAG,CAAC,WAAW,EAAE,CAAC;QAC5B,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAE,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;QACzG,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;IACxB,CAAC;IAED,6BAAM,GAAN,UAAO,EAAE;QACP,IAAI,IAAI,CAAC,UAAU,GAAG,GAAG;YAAE,OAAO;QAElC,IAAI,CAAC,UAAU,IAAI,EAAE,CAAC;QACtB,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,aAAa,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;IAC5D,CAAC;;IApBD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;sDACd,EAAE,oBAAF,EAAE,CAAC,IAAI;4CAAQ;IAFA,YAAY;QADhC,OAAO;OACa,YAAY,CAuBhC;IAAD,mBAAC;CAvBD,AAuBC,CAvByC,EAAE,CAAC,SAAS,GAuBrD;kBAvBoB,YAAY","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Water_spread extends cc.Component {\r\n  @property(cc.Node)\r\n  bg: cc.Node = null;\r\n  material: cc.Material = null;\r\n\r\n  onLoad() {\r\n    this.material = this.bg.getComponent(cc.Sprite).getMaterial(0);\r\n    this.bg.on(cc.Node.EventType.TOUCH_END, this.touchStartEvent, this);\r\n  }\r\n\r\n  waveOffset: number = 0.0;\r\n  touchStartEvent(evt: cc.Event.EventTouch) {\r\n    let pos = evt.getLocation();\r\n    this.material.setProperty('center', [ pos.x / this.bg.width, (this.bg.height - pos.y) / this.bg.height]);\r\n    this.waveOffset = 0.0;\r\n  }\r\n\r\n  update(dt) {\r\n    if (this.waveOffset > 2.0) return;\r\n\r\n    this.waveOffset += dt;\r\n    this.material.setProperty('wave_offset', this.waveOffset);\r\n  }\r\n}\r\n"]}